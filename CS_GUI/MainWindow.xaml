<Window x:Class="CS_GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:local="clr-namespace:CS_GUI"
        mc:Ignorable="d"
        Title="Math Evaluator" Height="478" Width="842">
    <Grid>
        <local:TopMenu/>

        <Label Content="Math Evaluator"
               FontSize="20"
               FontWeight="bold"
               Foreground="DeepPink"
               HorizontalAlignment="Left"
               Margin="36,24,0,0"
               VerticalAlignment="Top"/>

        <TextBox x:Name="inputBox" 
                 HorizontalAlignment="Left" 
                 Margin="41,82,0,0" 
                 TextWrapping="Wrap" 
                 Text="" 
                 VerticalAlignment="Top"
                 Width="300"
                 IsReadOnly="False" />

        <TextBox x:Name="outputBox"
                 Margin="486,82,14,0"
                 TextWrapping="Wrap"
                 Text=""
                 VerticalAlignment="Top"
                 TextChanged="TextBox_TextChanged"
                 IsReadOnly="True" />

        <TextBox x:Name="errorBox" 
                 HorizontalAlignment="Left"
                 Margin="41,123,0,0"
                 TextWrapping="Wrap"
                 Text=""
                 VerticalAlignment="Top"
                 Width="300"
                 TextChanged="TextBox_TextChanged"
                 IsReadOnly="True"
                 Foreground="Red" />

        <Button x:Name="buttonCalculate"
                Content="Calculate"
                HorizontalAlignment="Left"
                Margin="349,81,0,0"
                VerticalAlignment="Top"
                Click="buttonCalculate_Click"/>

        <Button x:Name="buttonPlot"
            Content="Plot"
            HorizontalAlignment="Left"
            Margin="349,100,0,0"
            VerticalAlignment="Top"
            Click="buttonPlot_Click" Width="52"/>
        <Button x:Name="buttonParseTree"
            Content="Parse Tree"
            HorizontalAlignment="Left"
            Margin="349,119,0,0"
            VerticalAlignment="Top"
            Width="100"
            Click="buttonParseTree_Click"
            />

        <Label Content="Input:"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               Margin="39,56,0,0"/>

        <Label Content="Output:"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               Margin="484,56,0,0"/>

        <Label Content="Error:"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               Margin="39,100,0,0"
               RenderTransformOrigin="0.646,1.652"/>

        <Label Content="History:"
       HorizontalAlignment="Left"
       VerticalAlignment="Top"
       Margin="484,100,0,0"
       RenderTransformOrigin="0.646,1.652"/>

        <!-- Right-hand area for history list + clear button -->
        <Grid Margin="486,123,14,38">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>

            <ListBox x:Name="HistoryBox"
             Grid.Row="0"
             ItemsSource="{Binding History}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBlock Text="{Binding Expression}"
                               FontSize="14"
                               Margin="0,0,10,0" />

                            <TextBlock Text="="
                               FontSize="14"
                               FontWeight="Bold"
                               Margin="0,0,10,0" />

                            <TextBlock Text="{Binding Result}"
                               FontSize="14"
                               FontWeight="Bold" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <Button x:Name="ClearHistoryButton"
            Grid.Row="1"
            Content="Clear"
            HorizontalAlignment="Right"
            Margin="0,8,0,0"
            Width="60"
            Click="ClearHistoryButton_Click"/>

            <TextBox x:Name="parseTreeBox"
                Grid.Row="2"
                Margin="0,10,0,0"
                Text=""
                IsReadOnly="True"
                AcceptsReturn="True"
                VerticalScrollBarVisibility="Auto"
                HorizontalScrollBarVisibility="Auto"
                FontFamily="Consolas"
                TextWrapping="NoWrap" />
        </Grid>


        <!-- Left-hand plotting area + parameter controls -->
        <Grid Margin="41,146,359,38">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <local:PlottingArea x:Name="PlotArea"
                        Grid.Row="0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch" />

            <StackPanel Grid.Row="1"
                Orientation="Horizontal"
                Margin="0,10,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center">

                <!-- Min X-->
                <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                    <TextBlock Text="Min X:"
                       VerticalAlignment="Center"
                       Margin="0,0,5,0"
                       FontWeight="Bold"/>
                    <xctk:DoubleUpDown x:Name="MinXDoubleUpDown" Width="70"
                               Height="24"
                               Increment="0.1"
                               Value="1" />
                </StackPanel>

                <!-- Max X -->
                <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                    <TextBlock Text="Max X:"
                       VerticalAlignment="Center"
                       Margin="0,0,5,0"
                       FontWeight="Bold"/>
                    <xctk:DoubleUpDown x:Name="MaxXDoubleUpDown" Width="70"
                               Height="24"
                               Increment="0.1"
                               Value="100" />
                </StackPanel>

                <!-- Step -->
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Step:"
                       VerticalAlignment="Center"
                       Margin="0,0,5,0"
                       FontWeight="Bold"/>
                    <xctk:DoubleUpDown x:Name="StepDoubleUpDown" Width="70"
                               Height="24"
                               Increment="0.1"
                               Value="1" />
                </StackPanel>

            </StackPanel>
        </Grid>









    </Grid>
</Window>
